# 仅用于本地开发的环境变量示例文件
# 复制为 .env 后按需修改；生产/CI 环境请通过安全渠道注入变量，不要提交真实敏感值

# 数据库配置
# 数据库主机地址
DB_HOST=localhost
# 数据库端口号
DB_PORT=5433
# 数据库名称
DB_NAME=csisp
# 数据库用户名
DB_USER=admin
# 数据库密码
DB_PASSWORD=replace-me
# 完整数据库连接URL
DATABASE_URL=postgres://admin:replace-me@localhost:5433/csisp

# Redis配置
# Redis主机地址
REDIS_HOST=localhost
# Redis端口号
REDIS_PORT=6379
# 是否启用Redis（true/false）
REDIS_ENABLED=true
# Redis数据库索引
REDIS_DB=0
# Redis密码（可选）
REDIS_PASSWORD=
# Redis键名前缀
REDIS_NAMESPACE=csisp

# MongoDB配置
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB=csisp
# 是否启用 MongoDB 相关流程（如内容种子）
MONGODB_ENABLED=true

# 应用程序配置
# 运行环境（development/production）
NODE_ENV=development
# 日志级别（debug/info/warn/error）
LOG_LEVEL=info

# 日志输出（开发环境）
# 是否同时写入文件（development 环境生效，默认 true）
LOG_TO_FILE=false
# 文件日志根目录（默认 log）
LOG_DIR=log
# 控制台 pretty 彩色输出开关（development 默认 true）
LOG_PRETTY_CONSOLE=true
# 文件日志保留天数（默认 7）
LOG_RETENTION_DAYS=7

# JWT配置
# JWT签名密钥（生产环境必须替换为安全的密钥）
JWT_SECRET=local-dev-do-not-use
# JWT访问令牌过期时间
JWT_EXPIRES_IN=1h
# JWT刷新令牌过期时间
JWT_REFRESH_EXPIRES_IN=7d

# 服务端口与URL配置
# 集成后端服务端口
BACKEND_INTEGRATED_PORT=3100
# 集成后端服务URL
BACKEND_INTEGRATED_URL=http://localhost:3100
# 前端后端（BFF）服务端口
BFF_PORT=4000

# OIDC / OAuth 配置（开发示例）
# OIDC 私钥加密主密钥（开发占位，生产需安全注入）
OIDC_KEK_SECRET=dev-kek-do-not-use
# IDP 基础 URL（用于 issuer / discovery）
IDP_BASE_URL=http://localhost:4001
# 默认客户端 ID（BFF）
OIDC_DEFAULT_CLIENT_ID=csisp-bff
# 默认回调地址（数组 JSON 字符串）：开发环境包含 BFF 与 backoffice
OIDC_DEFAULT_REDIRECT_URIS=["http://localhost:4000/api/bff/callback","http://localhost:3000/api/backoffice/callback"]

# Docker PostgreSQL配置（仅用于容器化部署）
# PostgreSQL根用户名
POSTGRES_USER=postgres
# PostgreSQL根密码
POSTGRES_PASSWORD=replace-me
# PostgreSQL数据库名称
POSTGRES_DB=csisp

# 短信发送配置（阿里云）
SMS_SIGN_NAME=速通互联验证码
SMS_TEMPLATE_CODE=100001
SMS_SCHEME_NAME=CSISP

# 阿里云凭据（用于 OpenAPI 调用）
# 生产环境请通过安全渠道注入，勿提交真实值
ALIBABA_CLOUD_ACCESS_KEY_ID=
ALIBABA_CLOUD_ACCESS_KEY_SECRET=
ALIBABA_CLOUD_SECURITY_TOKEN=

# 路由前缀
# backend-integrated
BACKEND_INTEGRATED_PREFIX=/api
# backoffice
BACKOFFICE_PREFIX=/api/backoffice
# idp
IDP_PREFIX=/api/idp
